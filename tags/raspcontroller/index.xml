<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>RaspController on LC-Research</title>
    <link>https://lc-research.com/tags/raspcontroller/</link>
    <description>Recent content in RaspController on LC-Research</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 09 Jun 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://lc-research.com/tags/raspcontroller/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Setting up a Raspberry Pi Media Server</title>
      <link>https://lc-research.com/blog/minidlna/</link>
      <pubDate>Wed, 09 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>https://lc-research.com/blog/minidlna/</guid>
      <description>&lt;p&gt;It has been a little over three years since I have setup a Raspberry Pi based wireless media server. This little media server has done a great job and it continues to function flawlessly serving many DLNA clients in the home network including one 3D projector, several mobile phones, tablets, PCs and Macs. I needed an always on light weight media server that can serve all of my DLNA compliant devices. Three years back, when I was setting this up, I tried out many different media servers including KODI, OSMC, Plex and MiniDLNA.  At the end, I settled for a MiniDLNA server on a Raspberry Pi 3B+. My choice couldn&amp;rsquo;t have been better.&lt;/p&gt;
&lt;h4 id=&#34;what-is-dlna&#34;&gt;What is DLNA?&lt;/h4&gt;
&lt;p&gt;DLNA, which stands for &lt;strong&gt;Digital Living Network Alliance&lt;/strong&gt; is an industry-wide standard for sharing digital media over a home network. DLNA compatible clients can connect to a DLNA server and consume digital media on the server through the home network. Any DLNA certified TV, projector or streaming device can act as a DLNA client. PCs, Macs, Linux boxes, mobile phones and tablets can be converted to DLNA clients by using appropriate DLNA client software. Any PC, Mac or Linux box can be configured as a DLNA server. Tiny single board computers such as Raspberry Pis are gaining popularity as DLNA servers due to their small footprint and low energy consumption. However, these credit card sized computers are limited by their processing power and other computational resources.&lt;/p&gt;
&lt;h4 id=&#34;the-server-hardware&#34;&gt;The Server Hardware&lt;/h4&gt;
&lt;p&gt;I opted for the single board computer Raspberry Pi 3B+. It was the latest version of Raspberry Pi available back then. The Pi 3B+ came with the following specification.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SoC: Broadcom BCM2837B0 quad-core A53 (ARMv8) 64-bit @ 1.4GHz&lt;/li&gt;
&lt;li&gt;GPU: Broadcom Videocore-IV&lt;/li&gt;
&lt;li&gt;RAM: 1GB LPDDR2 SDRAM&lt;/li&gt;
&lt;li&gt;Networking: Gigabit Ethernet (via USB channel), 2.4GHz and 5GHz 802.11b/g/n/ac Wi-Fi&lt;/li&gt;
&lt;li&gt;Bluetooth: Bluetooth 4.2, Bluetooth Low Energy (BLE)&lt;/li&gt;
&lt;li&gt;Storage: Micro-SD&lt;/li&gt;
&lt;li&gt;GPIO: 40-pin GPIO header, populated&lt;/li&gt;
&lt;li&gt;Ports: HDMI, 3.5mm analogue audio-video jack, 4x USB 2.0, Ethernet, Camera Serial Interface (CSI), Display Serial Interface (DSI)&lt;/li&gt;
&lt;li&gt;Dimensions: 82mm x 56mm x 19.5mm, 50g&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I housed my Pi 3B+ in an aluminum enclosure that doubles as a giant heat sink. This keeps Pi&amp;rsquo;s CPU and GPU temperatures around 46 degrees Celsius when idle. It runs the latest version of Raspberry Pi OS Lite. This operating system and other necessary software occupied approximately 10% of the Micro-SD card storage space. When idle, only 12% of the RAM is used. I have two USB 3.0 drives (128 GB drive for photos and 256 GB drive for movies) plugged into my Pi 3B+.&lt;/p&gt;
&lt;script async src=&#34;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&#34;&gt;&lt;/script&gt;
&lt;ins class=&#34;adsbygoogle&#34;
     style=&#34;display:block; text-align:center;&#34;
     data-ad-layout=&#34;in-article&#34;
     data-ad-format=&#34;fluid&#34;
     data-ad-client=&#34;ca-pub-2690761581108402&#34;
     data-ad-slot=&#34;2806109972&#34;&gt;&lt;/ins&gt;
&lt;script&gt;
     (adsbygoogle = window.adsbygoogle || []).push({});
&lt;/script&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;the-server-software&#34;&gt;The Server Software&lt;/h4&gt;
&lt;p&gt;I have installed the Lite version of Raspberry Pi OS. This 444 MB download is much smaller than its desktop counterparts. It does not include a graphical user interface or other optional bundled software. You can easily transfer the downloaded OS image to a Micro SD card via Raspberry Pi Imager downloadable from &lt;a href=&#34;https://raspberrypi.org&#34;&gt;https://raspberrypi.org&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;setting-up-raspberry-pi&#34;&gt;Setting-up Raspberry Pi&lt;/h4&gt;
&lt;p&gt;Here is a step by step guide to setup your Raspberry Pi based media server.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Download the Raspberry Pi Lite OS image from &lt;a href=&#34;https://raspberrypi.org&#34;&gt;https://raspberrypi.org&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download the Raspberry Pi Imager from the same web site.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Insert the Micro SD card to your computer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Transfer the image to Micro SD card using Raspberry Pi Imager. To do this, open up Raspberry Pi Imager → Click on CHOOSE OS → Scroll down and select &amp;ldquo;Use custom&amp;rdquo; → Select the downloaded zip file → Click on Write&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Insert the Micro SD card into Raspberry Pi, connect a mouse and a keyboard and turn on the device.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Login to your Pi with default username (pi) and password (raspberry)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute the following command&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo raspi-config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select Network Options → Wifi and enter your SSID and password.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Secure Socket Shell Protocol (SSH) is quite useful for configuring the Pi over the network. You can enable SSH using following commands.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo systemctl enable ssh
sudo systemctl start ssh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Update the Pi&amp;rsquo;s software to the latest version by running following commands.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt update
sudo apt upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install MiniDLNA with the following command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt install minidlna
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Plugin your USB drives. In my case, I plugged in two USB 3.0 drives.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mount your USB drives as follows.&lt;/p&gt;
&lt;p&gt;i. Find UUIDs (Universally Unique Identifiers) of your USB drives by executing the following command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;blkid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ii. Note down UUIDs of your USB drives.&lt;/p&gt;
&lt;p&gt;iii. Create mount points for your USB drives. Mount points are folders that point to the contents of your flash drives. Change ownership of folders to the pi user.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo mkdir /mnt/photo
sudo mkdir /mnt/video
sudo chown -R pi:pi /mnt/photo
sudo chown -R pi:pi /mnt/video
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;iv. Open the fstab file with nano editor.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo nano /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Add the following lines to fstab. Make sure to replace my UUIDs and mount points with yours.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;UUID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;3E1D-1C18 /mnt/photo vfat uid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;pi,gid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;pi &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
UUID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;84AB-130E /mnt/video vfat uid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;pi,gid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;pi &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Use Ctrl+O to save and Ctrl+X to exit nano editor.&lt;/p&gt;
&lt;p&gt;v. Reboot the Pi with the following command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open the minidlna configuration file located under /etc with nano editor.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo nano /etc/minidlna.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the following lines to minidlna configuration file. My photos are located under the MyPhotos folder in one usb drive and videos are located under the Media → Videos folder in the other drive. Here, &lt;strong&gt;P&lt;/strong&gt; stands for Photo and &lt;strong&gt;V&lt;/strong&gt; stands for Video. You can use &lt;strong&gt;A&lt;/strong&gt; for audio. Use Ctrl+O to save and Ctrl+X to exit nano editor.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;media_dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;P,/mnt/photo/MyPhotos
media_dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;V,/mnt/video/Media/Videos
friendly_name&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Name of your DLNA server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restart the minidlna service with the following command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo systemctl restart minidlna
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At this point you should have a fully functional DLNA server. It should pop up in all of your DLNA compliant devices. You can check the status of your MiniDLNA server by visiting http://IP address of your pi:8200. You can locate the IP address by executing the following command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;hostname -I
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://lc-research.com/img/blog/minidlna/minidlna.jpg&#34; alt=&#34;minidlna&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;dlna-clients&#34;&gt;DLNA Clients&lt;/h4&gt;
&lt;p&gt;If your TV or projector supports DLNA, your DLNA server should pop up under inputs. If you are using a PC, you should be able to stream media with Windows Media Player. I use DLNA client app, Movian downloadable from &lt;a href=&#34;https://movian.tv&#34;&gt;https://movian.tv&lt;/a&gt; on my android devices and Macs.&lt;/p&gt;
&lt;script async src=&#34;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&#34;&gt;&lt;/script&gt;
&lt;ins class=&#34;adsbygoogle&#34;
     style=&#34;display:block; text-align:center;&#34;
     data-ad-layout=&#34;in-article&#34;
     data-ad-format=&#34;fluid&#34;
     data-ad-client=&#34;ca-pub-2690761581108402&#34;
     data-ad-slot=&#34;2806109972&#34;&gt;&lt;/ins&gt;
&lt;script&gt;
     (adsbygoogle = window.adsbygoogle || []).push({});
&lt;/script&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;raspcontroller&#34;&gt;RaspController&lt;/h4&gt;
&lt;p&gt;RaspController is an app that you can download from the Google play store. The free version of RaspController can be used for monitoring and basic maintenance of the media server. It can also be used to shutdown or reboot your Pi.&lt;/p&gt;
&lt;h4 id=&#34;transferring-files-to-dlna-server&#34;&gt;Transferring Files to DLNA Server&lt;/h4&gt;
&lt;p&gt;I found it slow to transfer large video files over the network to Pi. My workflow involves shutting down the server with RaspController, unplugging the USBs, transferring the files directly from a computer and re plugging USBs to Pi. Since, this is an occasional chore, it works out well for me.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>